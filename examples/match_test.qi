; match式のテスト

; 値のマッチ
(print (match 0
  0 -> "zero"
  1 -> "one"
  n -> "other"))

; nil/boolの区別
(print (match nil
  nil -> "nil"
  false -> "false"
  true -> "true"
  _ -> "other"))

(print (match false
  nil -> "nil"
  false -> "false"
  true -> "true"
  _ -> "other"))

; 変数バインディング
(print (match 42
  n -> (+ n 10)))

; ベクタマッチ
(print (match [1 2 3]
  [x y z] -> (+ x (+ y z))))

; ガード条件
(def classify (fn [x]
  (match x
    n when (> n 0) -> "positive"
    n when (< n 0) -> "negative"
    _ -> "zero")))

(print (classify 5))
(print (classify -3))
(print (classify 0))
