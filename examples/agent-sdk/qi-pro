#!/usr/bin/env bash
# qi-pro - Qi言語コードレビューエージェント（ラッパースクリプト）

# スクリプトのディレクトリ
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# Qiインタープリターのパス
QI="${QI:-qi}"

# 引数チェック
if [ $# -eq 0 ] || [ "$1" = "--help" ]; then
    exec "$QI" "$SCRIPT_DIR/qi-pro.qi" "--help"
fi

# 第1引数（ファイルパス）を環境変数として渡してQiスクリプトを実行
export QI_PRO_FILE="$1"
exec "$QI" "$SCRIPT_DIR/qi-pro.qi"
