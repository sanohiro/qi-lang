# ç¬¬1ç« : ã¯ã˜ã‚ã®ä¸€æ­©

**æ‰€è¦æ™‚é–“**: 15åˆ†

Qiã¸ã‚ˆã†ã“ãï¼ã“ã®ç« ã§ã¯ã€Qiã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‹ã‚‰æœ€åˆã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¾ã§ã‚’å­¦ã³ã¾ã™ã€‚

---

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ãƒã‚¤ãƒŠãƒªï¼ˆæ¨å¥¨ï¼‰

```bash
# GitHubã‹ã‚‰æœ€æ–°ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# ï¼ˆãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‹ã‚‰å„OSç”¨ã®ãƒã‚¤ãƒŠãƒªã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰

# ãƒ‘ã‚¹ã‚’é€šã™
export PATH="$PATH:/path/to/qi"
```

### ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ“ãƒ«ãƒ‰

```bash
git clone https://github.com/sanohiro/qi-lang
cd qi-lang
cargo build --release

# ãƒã‚¤ãƒŠãƒªã¯ target/release/qi ã«ã‚ã‚Šã¾ã™
./target/release/qi
```

---

## REPLã‚’èµ·å‹•ã—ã‚ˆã†

Qiã«ã¯REPLï¼ˆRead-Eval-Print Loopï¼‰ãŒä»˜å±ã—ã¦ã„ã¾ã™ã€‚å¯¾è©±çš„ã«ã‚³ãƒ¼ãƒ‰ã‚’è©¦ã›ã¾ã™ã€‚

```bash
qi
```

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€æˆåŠŸã§ã™ï¼

```
Qi REPL v0.1.0
Type 'exit' to quit
qi>
```

---

## æœ€åˆã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ : Hello, World!

REPLã§æœ€åˆã®ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```qi
qi> (println "Hello, World!")
```

**å®Ÿè¡Œçµæœ**:
```
"Hello, World!"
```

ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼æœ€åˆã®Qiãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒå‹•ãã¾ã—ãŸğŸ‰

---

## åŸºæœ¬çš„ãªè¨ˆç®—

Qiã§ã¯ã€è¨ˆç®—ã¯æ‹¬å¼§ã§å›²ã‚“ã§æ›¸ãã¾ã™ï¼ˆLispå¼ï¼‰ã€‚

```qi
qi> (+ 1 2 3)
; => 6

qi> (* 5 10)
; => 50

qi> (/ 100 4)
; => 25

qi> (- 20 5)
; => 15
```

**ãƒã‚¤ãƒ³ãƒˆ**: æ¼”ç®—å­ãŒæœ€åˆã«æ¥ã¦ã€ãã®å¾Œã«å¼•æ•°ãŒç¶šãã¾ã™ï¼ˆå‰ç½®è¨˜æ³•ï¼‰ã€‚

---

## å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹

`def`ã§å¤‰æ•°ã‚’å®šç¾©ã§ãã¾ã™ã€‚

```qi
qi> (def x 42)
; => 42

qi> x
; => 42

qi> (def name "Alice")
; => "Alice"

qi> name
; => "Alice"
```

---

## åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹

Qiã«ã¯ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿å‹ãŒã‚ã‚Šã¾ã™ã€‚

### æ•°å€¤

```qi
qi> 42          ; æ•´æ•°
; => 42

qi> 3.14        ; æµ®å‹•å°æ•°ç‚¹
; => 3.14

qi> (+ 10 5.5)  ; æ··åœ¨ã‚‚å¯èƒ½
; => 15.5
```

### æ–‡å­—åˆ—

```qi
qi> "Hello, Qi!"
; => "Hello, Qi!"

qi> (str "Hello, " "World!")  ; æ–‡å­—åˆ—é€£çµ
; => "Hello, World!"
```

### f-stringï¼ˆæ–‡å­—åˆ—è£œé–“ï¼‰

```qi
qi> (def age 25)
qi> f"I am {age} years old"
; => "I am 25 years old"

qi> (def x 10)
qi> (def y 20)
qi> f"Sum: {(+ x y)}"
; => "Sum: 30"
```

### çœŸå½å€¤

```qi
qi> true
; => true

qi> false
; => false

qi> (= 1 1)
; => true

qi> (> 10 5)
; => true
```

### ãƒ™ã‚¯ã‚¿ï¼ˆé…åˆ—ï¼‰

```qi
qi> [1 2 3 4 5]
; => [1 2 3 4 5]

qi> (def numbers [10 20 30])
qi> numbers
; => [10 20 30]

qi> (first numbers)
; => 10

qi> (last numbers)
; => 30
```

### ãƒãƒƒãƒ—ï¼ˆé€£æƒ³é…åˆ—ï¼‰

```qi
qi> {:name "Alice" :age 25}
; => {:name "Alice" :age 25}

qi> (def person {:name "Bob" :age 30})
qi> (get person :name)
; => "Bob"

qi> (get person :age)
; => 30
```

---

## é–¢æ•°ã‚’å®šç¾©ã™ã‚‹

`defn`ã§åå‰ä»˜ãé–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚

```qi
qi> (defn greet [name]
      f"Hello, {name}!")

qi> (greet "Alice")
; => "Hello, Alice!"

qi> (greet "Bob")
; => "Hello, Bob!"
```

### è¤‡æ•°ã®å¼•æ•°

```qi
qi> (defn add [a b]
      (+ a b))

qi> (add 10 20)
; => 30

qi> (defn full-name [first last]
      f"{first} {last}")

qi> (full-name "John" "Doe")
; => "John Doe"
```

### åŒ¿åé–¢æ•°ï¼ˆãƒ©ãƒ ãƒ€ï¼‰

`fn`ã§ç„¡åé–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚

```qi
qi> (def double (fn [x] (* x 2)))

qi> (double 5)
; => 10

qi> ((fn [x] (* x x)) 7)  ; ãã®å ´ã§å®šç¾©ã—ã¦å®Ÿè¡Œ
; => 49
```

---

## ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ“ä½œã™ã‚‹

Qiã¯é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®å¼·åŠ›ãªæ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚

### map - å„è¦ç´ ã«é–¢æ•°ã‚’é©ç”¨

```qi
qi> (map (fn [x] (* x 2)) [1 2 3 4 5])
; => [2 4 6 8 10]

qi> (map str/upper ["hello" "world"])
; => ["HELLO" "WORLD"]
```

### filter - æ¡ä»¶ã«åˆã†è¦ç´ ã ã‘ã‚’æŠ½å‡º

```qi
qi> (filter (fn [x] (> x 5)) [1 3 5 7 9 11])
; => [7 9 11]

qi> (filter even? [1 2 3 4 5 6])
; => [2 4 6]
```

### reduce - è¦ç´ ã‚’ç•³ã¿è¾¼ã‚€

```qi
qi> (reduce + 0 [1 2 3 4 5])
; => 15

qi> (reduce * 1 [2 3 4])
; => 24
```

---

## æ¡ä»¶åˆ†å²

`if`ã§æ¡ä»¶åˆ†å²ã—ã¾ã™ã€‚

```qi
qi> (def age 20)
qi> (if (>= age 18)
      "Adult"
      "Minor")
; => "Adult"

qi> (defn check-number [n]
      (if (> n 0)
        "Positive"
        (if (< n 0)
          "Negative"
          "Zero")))

qi> (check-number 10)
; => "Positive"

qi> (check-number -5)
; => "Negative"

qi> (check-number 0)
; => "Zero"
```

---

## ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹

REPLã ã‘ã§ãªãã€ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ãŸã‚³ãƒ¼ãƒ‰ã‚‚å®Ÿè¡Œã§ãã¾ã™ã€‚

**hello.qi**ã‚’ä½œæˆ:
```qi
; hello.qi
(defn greet [name]
  f"Hello, {name}!")

(println (greet "World"))
(println (greet "Qi"))
```

å®Ÿè¡Œ:
```bash
qi hello.qi
```

**å®Ÿè¡Œçµæœ**:
```
"Hello, World!"
"Hello, Qi!"
```

---

## ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼

`-e`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç›´æ¥ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```bash
# è¨ˆç®—
qi -e "(+ 1 2 3)"
# => 6

# æ–‡å­—åˆ—å‡¦ç†
qi -e "(str/upper \"hello\")"
# => "HELLO"

# ãƒ‡ãƒ¼ã‚¿å‡¦ç†
qi -e "(filter even? [1 2 3 4 5 6])"
# => [2 4 6]
```

---

## ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ—¥æœ¬èªã§è¡¨ç¤º

ç’°å¢ƒå¤‰æ•°`QI_LANG`ã§è¨€èªã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚

```bash
# æ—¥æœ¬èª
QI_LANG=ja qi -e "(+ 1 \"abc\")"
# => ã‚¨ãƒ©ãƒ¼: æ•°å€¤æ¼”ç®—ã«ã¯æ•°å€¤ã®ã¿ã‚’ä½¿ç”¨ã§ãã¾ã™

# è‹±èª
QI_LANG=en qi -e "(+ 1 \"abc\")"
# => Error: Numeric operations require numbers only
```

---

## ç·´ç¿’å•é¡Œ

### å•é¡Œ1: 2ã¤ã®æ•°å€¤ã®å¹³å‡ã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°

```qi
(defn average [a b]
  ; ã“ã“ã‚’åŸ‹ã‚ã¦ãã ã•ã„
  )

; ãƒ†ã‚¹ãƒˆ
(average 10 20)  ; => 15
(average 5 15)   ; => 10
```

<details>
<summary>è§£ç­”ä¾‹</summary>

```qi
(defn average [a b]
  (/ (+ a b) 2))
```

ã¾ãŸã¯:
```qi
(defn average [a b]
  (* (+ a b) 0.5))
```

</details>

### å•é¡Œ2: ãƒªã‚¹ãƒˆã®åˆè¨ˆã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°

```qi
(defn sum [numbers]
  ; ã“ã“ã‚’åŸ‹ã‚ã¦ãã ã•ã„
  )

; ãƒ†ã‚¹ãƒˆ
(sum [1 2 3 4 5])  ; => 15
(sum [10 20 30])   ; => 60
```

<details>
<summary>è§£ç­”ä¾‹</summary>

```qi
(defn sum [numbers]
  (reduce + 0 numbers))
```

</details>

### å•é¡Œ3: åå‰ã¨å¹´é½¢ã‹ã‚‰æŒ¨æ‹¶æ–‡ã‚’ä½œã‚‹é–¢æ•°

```qi
(defn introduce [name age]
  ; ã“ã“ã‚’åŸ‹ã‚ã¦ãã ã•ã„
  )

; ãƒ†ã‚¹ãƒˆ
(introduce "Alice" 25)  ; => "My name is Alice and I am 25 years old"
```

<details>
<summary>è§£ç­”ä¾‹</summary>

```qi
(defn introduce [name age]
  f"My name is {name} and I am {age} years old")
```

</details>

---

## ã¾ã¨ã‚

ã“ã®ç« ã§å­¦ã‚“ã ã“ã¨ï¼š

- âœ… REPLã®ä½¿ã„æ–¹
- âœ… åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹ï¼ˆæ•°å€¤ã€æ–‡å­—åˆ—ã€ãƒ™ã‚¯ã‚¿ã€ãƒãƒƒãƒ—ï¼‰
- âœ… å¤‰æ•°ã¨é–¢æ•°ã®å®šç¾©
- âœ… ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œï¼ˆmapã€filterã€reduceï¼‰
- âœ… æ¡ä»¶åˆ†å²ï¼ˆifï¼‰
- âœ… ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

Qiã®åŸºæœ¬ãŒèº«ã«ã¤ã„ãŸã‚‰ã€æ¬¡ã¯**ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼

â¡ï¸ [ç¬¬2ç« : ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§è€ƒãˆã‚‹](02-pipelines.md)

ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯ã€Qiã®æœ€ã‚‚å¼·åŠ›ãªæ©Ÿèƒ½ã®ä¸€ã¤ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’ç›´æ„Ÿçš„ã«è¨˜è¿°ã§ãã¾ã™ã€‚
